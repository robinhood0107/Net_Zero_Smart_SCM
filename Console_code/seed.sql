-- ============================================================
-- 탄소중립 스마트 SCM 플랫폼 샘플 데이터
-- 기능 1~3 시연용
-- ============================================================

-- 1. 조선소 (Shipyard)
INSERT INTO Shipyard (ShipyardID, Name, Region, HName, EstablishedDate) VALUES
(1, '현대중공업 울산', '울산광역시', '선박해양사업본부', '1972-03-23'),
(2, '삼성중공업 거제', '경상남도 거제시', '조선해양부문', '1974-08-01'),
(3, '대우조선해양', '경상남도 거제시', '상선사업본부', '1973-10-28');

-- 2. 공급업체 (Supplier)
INSERT INTO Supplier (SupplierID, Name, Country, ContactName, ContactPhone, ESGGrade) VALUES
(1, '두산엔진', '한국', '김철수', '051-123-4567', 'A'),
(2, 'MAN Energy Solutions', '독일', 'Hans Mueller', '+49-821-322-0', 'A'),
(3, '한국카본', '한국', '박영희', '031-456-7890', 'B'),
(4, '삼성SDI', '한국', '이민수', '031-210-7114', 'A'),
(5, '중국선박중공업', '중국', 'Wang Wei', '+86-21-5888-8888', 'C'),
(6, 'Wartsila', '핀란드', 'Mika Virtanen', '+358-10-709-0000', 'A'),
(7, '효성중공업', '한국', '정대호', '02-707-6000', 'B'),
(8, '동성화인텍', '한국', '최유진', '055-269-7000', 'B'),
(9, '한화오션', '한국', '김지훈', '055-735-2114', 'C'),
(10, 'ABB Marine', '스위스', 'Erik Larsson', '+41-43-317-7111', 'A');

-- 3. 사용자 (Users)
INSERT INTO Users (UserID, Name, Email, AffiliationType, Role, ShipyardID, SupplierID) VALUES
(1, '홍길동', 'hong@hhi.co.kr', 'SHIPYARD', '구매담당자', 1, NULL),
(2, '김영수', 'kim@samsung-shi.co.kr', 'SHIPYARD', '프로젝트매니저', 2, NULL),
(3, '박준혁', 'park@doosan.com', 'SUPPLIER', '영업담당', NULL, 1),
(4, '이수진', 'lee@auditor.kr', 'AUDITOR', 'ESG감사관', NULL, NULL);

-- 4. 부품 (Part)
INSERT INTO Part (PartID, Name, Spec, Unit, BaseEmissionFactor) VALUES
(1, '저속 디젤엔진', 'MAN B&W 6G80ME-C10.5', '대', 45000.0),
(2, '프로펠러', '6-blade FPP, 직경 9.1m', '개', 8500.0),
(3, 'LNG 연료탱크', 'Type-C, 18,000m³', '기', 32000.0),
(4, '발전기 세트', '6,600V 3상 AC 8MW', '세트', 12000.0),
(5, '선박용 케이블', 'XLPE 절연, 600V', 'km', 350.0),
(6, '철강판재', 'EH36 고장력강, 20mm', '톤', 2100.0),
(7, '도료', '에폭시 방오도료', '드럼', 85.0),
(8, '밸브', '버터플라이밸브 DN500', '개', 120.0),
(9, '펌프', '화물유 펌프 2000m³/h', '대', 2800.0),
(10, '배터리팩', 'Li-ion ESS 5MWh', '세트', 18000.0);

-- 5. 선박 프로젝트 (ShipProject)
INSERT INTO ShipProject (ProjectID, ShipName, ShipType, ContractDate, DeliveryDueDate, Status, ShipyardID) VALUES
(1, 'HYUNDAI GREEN-1', 'LNG운반선', '2023-03-15', '2025-06-30', '건조중', 1),
(2, 'SAMSUNG ECO STAR', '초대형컨테이너선', '2023-05-20', '2025-09-15', '건조중', 2),
(3, 'DSME FUTURE', 'VLCC', '2022-11-10', '2024-12-20', '인도완료', 3),
(4, 'HYUNDAI PIONEER', 'LPG운반선', '2024-01-08', '2026-03-31', '설계', 1),
(5, 'SAMSUNG AURORA', '암모니아운반선', '2024-02-28', '2026-08-15', '설계', 2);

-- 6. 부품-공급업체 관계 (SupplierPart)
INSERT INTO SupplierPart (SupplierID, PartID, UnitPrice, LeadTimeDays, MinOrderQty) VALUES
-- 두산엔진
(1, 1, 28000000.0, 180, 1),
(1, 4, 1200000.0, 90, 1),
-- MAN Energy Solutions
(2, 1, 32000000.0, 210, 1),
(2, 9, 450000.0, 60, 2),
-- 한국카본
(3, 3, 15000000.0, 150, 1),
(3, 6, 1800.0, 14, 100),
-- 삼성SDI
(4, 10, 8500000.0, 120, 1),
-- 중국선박중공업
(5, 2, 3500000.0, 120, 1),
(5, 6, 1200.0, 21, 500),
(5, 8, 25000.0, 30, 20),
-- Wartsila
(6, 1, 35000000.0, 240, 1),
(6, 4, 1500000.0, 100, 1),
-- 효성중공업
(7, 4, 1100000.0, 85, 1),
(7, 5, 45000.0, 21, 10),
-- 동성화인텍
(8, 3, 14500000.0, 140, 1),
-- 한화오션
(9, 2, 3200000.0, 100, 1),
(9, 9, 380000.0, 45, 2),
-- ABB Marine
(10, 4, 1800000.0, 110, 1),
(10, 5, 55000.0, 28, 5);

-- 7. 창고 (Warehouse)
INSERT INTO Warehouse (WarehouseID, ShipyardID, Name, Location, IsTempControlled) VALUES
(1, 1, '울산 A창고', '본관 동측 야적장', FALSE),
(2, 1, '울산 B창고', '도크2 인접 실내창고', TRUE),
(3, 2, '거제 메인창고', '조립동 북측', FALSE),
(4, 2, '거제 항온창고', '도장동 지하', TRUE),
(5, 3, '옥포 자재창고', '선대 서측', FALSE);

-- 8. 재고 (Inventory)
INSERT INTO Inventory (WarehouseID, PartID, Quantity) VALUES
(1, 6, 2500),  -- 철강판재
(1, 7, 120),   -- 도료
(1, 8, 85),    -- 밸브
(2, 5, 45),    -- 케이블
(2, 10, 2),    -- 배터리팩
(3, 6, 3200),
(3, 7, 200),
(4, 5, 60),
(5, 6, 1800),
(5, 8, 50);

-- 9. 발주서 (PurchaseOrder)
INSERT INTO PurchaseOrder (POID, OrderDate, Status, EngineerName, ProjectID, SupplierID) VALUES
-- 프로젝트1 (LNG운반선) 발주들
(1, '2023-06-01', '발주완료', '홍길동', 1, 1),   -- 두산엔진
(2, '2023-07-15', '발주완료', '홍길동', 1, 3),   -- 한국카본
(3, '2023-08-20', '검수중', '홍길동', 1, 7),     -- 효성중공업
-- 프로젝트2 (컨테이너선) 발주들
(4, '2023-08-01', '발주완료', '김영수', 2, 2),   -- MAN
(5, '2023-09-10', '발주완료', '김영수', 2, 5),   -- 중국선박중공업
(6, '2023-10-05', '발주완료', '김영수', 2, 10),  -- ABB
-- 프로젝트3 (VLCC) 발주들
(7, '2022-12-15', '발주완료', '박민우', 3, 6),   -- Wartsila
(8, '2023-01-20', '발주완료', '박민우', 3, 9),   -- 한화오션
-- 프로젝트4 (LPG운반선) 발주들
(9, '2024-03-01', '요청', '홍길동', 4, 4),       -- 삼성SDI
(10, '2024-03-15', '발주완료', '홍길동', 4, 8);  -- 동성화인텍

-- 10. 발주 항목 (PurchaseOrderLine)
INSERT INTO PurchaseOrderLine (POID, LineNo, PartID, Quantity, UnitPriceAtOrder, RequestedDueDate) VALUES
-- PO1: 엔진+발전기
(1, 1, 1, 1, 28000000.0, '2024-03-01'),
(1, 2, 4, 2, 1200000.0, '2024-02-15'),
-- PO2: LNG탱크+철강
(2, 1, 3, 2, 15000000.0, '2024-04-01'),
(2, 2, 6, 800, 1800.0, '2023-12-15'),
-- PO3: 발전기+케이블
(3, 1, 4, 3, 1100000.0, '2024-05-01'),
(3, 2, 5, 25, 45000.0, '2024-04-15'),
-- PO4: 엔진+펌프
(4, 1, 1, 1, 32000000.0, '2024-06-01'),
(4, 2, 9, 4, 450000.0, '2024-03-15'),
-- PO5: 프로펠러+철강+밸브
(5, 1, 2, 1, 3500000.0, '2024-05-01'),
(5, 2, 6, 1500, 1200.0, '2024-02-01'),
(5, 3, 8, 50, 25000.0, '2024-02-15'),
-- PO6: 발전기+케이블
(6, 1, 4, 2, 1800000.0, '2024-07-01'),
(6, 2, 5, 15, 55000.0, '2024-05-15'),
-- PO7: 엔진+발전기
(7, 1, 1, 1, 35000000.0, '2023-09-01'),
(7, 2, 4, 2, 1500000.0, '2023-08-01'),
-- PO8: 프로펠러+펌프
(8, 1, 2, 1, 3200000.0, '2023-10-01'),
(8, 2, 9, 3, 380000.0, '2023-08-15'),
-- PO9: 배터리팩
(9, 1, 10, 3, 8500000.0, '2025-06-01'),
-- PO10: LNG탱크
(10, 1, 3, 1, 14500000.0, '2025-08-01');

-- 11. 납품 (Delivery)
INSERT INTO Delivery (DeliveryID, POID, ActualArrivalDate, TransportMode, DistanceKm, Status) VALUES
-- PO1 납품 (정상)
(1, 1, '2024-02-28', '트럭', 85.0, '정상입고'),
-- PO2 납품 (2회 나눠서 - 부분납품 예시)
(2, 2, '2023-12-14', '선박', 320.0, '정상입고'),
(3, 2, '2024-03-28', '트럭', 45.0, '정상입고'),
-- PO3 납품 (지연)
(4, 3, '2024-05-20', '트럭', 120.0, '지연'),
-- PO4 납품 (정상)
(5, 4, '2024-05-28', '선박', 8500.0, '정상입고'),
-- PO5 납품 (부분입고 - 일부만 도착)
(6, 5, '2024-02-05', '선박', 1200.0, '부분입고'),
(7, 5, '2024-05-10', '선박', 1200.0, '지연'),
-- PO6 납품 (정상)
(8, 6, '2024-06-28', '항공+트럭', 9200.0, '정상입고'),
-- PO7 납품 (정상)
(9, 7, '2023-08-29', '선박', 12000.0, '정상입고'),
-- PO8 납품 (지연)
(10, 8, '2023-10-20', '트럭', 180.0, '지연');

-- 12. 납품 상세 (DeliveryLine)
INSERT INTO DeliveryLine (DeliveryID, POID, LineNo, ReceivedQty, InspectionResult) VALUES
-- Delivery 1 (PO1)
(1, 1, 1, 1, '합격 - 엔진 테스트 완료'),
(1, 1, 2, 2, '합격'),
-- Delivery 2 (PO2 - 1차 부분)
(2, 2, 2, 800, '합격 - 철강 성적서 확인'),
-- Delivery 3 (PO2 - 2차)
(3, 2, 1, 2, '합격 - 탱크 기밀시험 완료'),
-- Delivery 4 (PO3)
(4, 3, 1, 3, '조건부합격 - 경미보수 필요'),
(4, 3, 2, 25, '합격'),
-- Delivery 5 (PO4)
(5, 4, 1, 1, '합격 - FAT 완료'),
(5, 4, 2, 4, '합격'),
-- Delivery 6 (PO5 - 1차)
(6, 5, 2, 1000, '합격'),
(6, 5, 3, 50, '합격'),
-- Delivery 7 (PO5 - 2차)
(7, 5, 1, 1, '합격 - 프로펠러 밸런싱 완료'),
(7, 5, 2, 500, '합격'),
-- Delivery 8 (PO6)
(8, 6, 1, 2, '합격'),
(8, 6, 2, 15, '합격'),
-- Delivery 9 (PO7)
(9, 7, 1, 1, '합격'),
(9, 7, 2, 2, '합격'),
-- Delivery 10 (PO8)
(10, 8, 1, 1, '합격'),
(10, 8, 2, 3, '합격');

-- 13. 탄소배출 기록 (CarbonEmissionRecord)
INSERT INTO CarbonEmissionRecord (RecordID, DeliveryID, ProjectID, EmissionType, CO2eAmount, Basis, RecordDate) VALUES
-- 프로젝트1 탄소배출
(1, 1, 1, '운송', 425.5, '트럭 85km x 5톤', '2024-02-28'),
(2, 2, 1, '운송', 1280.0, '선박 320km x 대형화물', '2023-12-14'),
(3, 3, 1, '운송', 180.0, '트럭 45km', '2024-03-28'),
(4, NULL, 1, '생산', 45000.0, '엔진 제조 배출계수 적용', '2024-02-28'),
(5, NULL, 1, '보관', 850.0, '항온창고 전력사용', '2024-04-01'),
-- 프로젝트2 탄소배출
(6, 5, 2, '운송', 8500.0, '선박 8500km 국제운송', '2024-05-28'),
(7, 6, 2, '운송', 2400.0, '선박 1200km x 2회', '2024-02-05'),
(8, 7, 2, '운송', 2400.0, '선박 1200km', '2024-05-10'),
(9, 8, 2, '운송', 4600.0, '항공+트럭 복합운송', '2024-06-28'),
(10, NULL, 2, '생산', 52000.0, '엔진+발전기 제조', '2024-06-01'),
(11, NULL, 2, '보관', 1200.0, '자재창고 관리', '2024-07-01'),
-- 프로젝트3 탄소배출
(12, 9, 3, '운송', 12000.0, '선박 12000km 핀란드발', '2023-08-29'),
(13, 10, 3, '운송', 540.0, '트럭 180km', '2023-10-20'),
(14, NULL, 3, '생산', 38000.0, '주요장비 제조', '2023-09-15'),
(15, NULL, 3, '보관', 650.0, '야적장 관리', '2023-11-01'),
-- 프로젝트4 탄소배출 (아직 설계단계라 적음)
(16, NULL, 4, '생산', 5000.0, '설계단계 예상치', '2024-04-01');

-- ============================================================
-- 시연 시나리오 가이드
-- ============================================================
-- 
-- [기능1 - 프로젝트 대시보드]
-- - 프로젝트ID 1 입력 → HYUNDAI GREEN-1 LNG운반선 정보 조회
-- - 프로젝트ID 2 입력 → SAMSUNG ECO STAR 컨테이너선 정보 조회
-- - "GREEN" 검색 → 프로젝트1 매칭
--
-- [기능2 - 발주 등록 트랜잭션]
-- - 프로젝트ID: 4 (설계단계 LPG운반선)
-- - 공급업체ID: 7 (효성중공업)
-- - 부품 예시: PartID=4(발전기), 수량=2, 단가=1100000
-- - 창고ID: 1 (울산 A창고)
-- 
-- [기능3 - 공급업체 리포트]
-- - ESG A등급만 필터: 두산, MAN, 삼성SDI, Wartsila, ABB
-- - 지연비율 확인: 중국선박중공업(지연있음), 한화오션(지연있음)
-- - 공급업체ID 5 상세 → 최근 발주/납품 상태 확인
--

